
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
      <meta name="description" content="Documentation for Amazon Bedrock AgentCore, primitives for building and running AI agents">
    
    
    
      <link rel="canonical" href="https://aws.github.io/bedrock-agentcore-starter-toolkit/examples/infrastructure-as-code/terraform/end-to-end-weather-agent/weather-agent-terraform-deploy-readme.html">
    
    
    
    
    <link rel="icon" href="../../../.." sizes="any">
    <link rel="icon" href="../../../../assets/images/favicon.png" type="image/svg+xml">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">

    
      
        <title>Weather agent terraform deploy readme - Amazon Bedrock AgentCore</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#table-of-contents" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Amazon Bedrock AgentCore" class="md-header__button md-logo" aria-label="Amazon Bedrock AgentCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Amazon Bedrock AgentCore
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Weather agent terraform deploy readme
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/bedrock-agentcore-starter-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../index.html" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../index.html" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/aws/bedrock-agentcore-sdk-python/blob/main/CONTRIBUTING.md" class="md-tabs__link">
        
  
  
    
  
  Contribute ❤️

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../api-reference/runtime.html" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Amazon Bedrock AgentCore" class="md-nav__button md-logo" aria-label="Amazon Bedrock AgentCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Amazon Bedrock AgentCore
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/bedrock-agentcore-starter-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/create/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/dev/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Runtime
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Runtime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/permissions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/async.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Async Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/notebook.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Notebook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/runtime/a2a.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime A2A Server Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Gateway
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Gateway
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/gateway/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gateway Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Memory
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Memory
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/memory/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Policy
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Policy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/policy/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Policy Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/policy/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Policy Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Identity
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Identity
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/identity/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/identity/quickstart-with-cli.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity CLI Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Built-in Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Built-in Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/builtin-tools/quickstart-browser.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart Browser Tool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/builtin-tools/quickstart-code-interpreter.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart Code Interpreter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_10" >
        
          
          <label class="md-nav__link" for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/security/vpc-interface-endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VPC Interface Endpoints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/security/agentcore-vpc.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AgentCore VPC Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/security/security-vpc-condition.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VPC Condition Keys
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_11" >
        
          
          <label class="md-nav__link" for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Observability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/observability/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/evaluation/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_13" >
        
          
          <label class="md-nav__link" for="__nav_1_13" id="__nav_1_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Import Agent
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Import Agent
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/import-agent/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Import Agent Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/import-agent/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Import Agent Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../user-guide/import-agent/configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Import Agent Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../agentcore-quickstart-example.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Transform and Deploy Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../session-management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Session Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../async-processing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Async Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../gateway-integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gateway Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../policy-integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Policy Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../memory_gateway_agent.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Gateway Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../runtime-framework-agents.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime Framework Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../semantic_search.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Semantic Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws/bedrock-agentcore-sdk-python/blob/main/CONTRIBUTING.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contribute ❤️
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bedrock AgentCore SDK
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bedrock AgentCore SDK
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/runtime.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/identity.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/memory.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/tools.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Built-in Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bedrock AgentCore Starter Toolkit
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bedrock AgentCore Starter Toolkit
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../api-reference/cli.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AgentCore CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Components
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tool Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-included" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's Included
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Required Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-account-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Account Requirements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-configure-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Configure Variables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-initialize-terraform" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Initialize Terraform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-verify-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Verify Deployment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deployment Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-and-deployment-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build and Deployment Sequence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build Triggers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-initialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Initialization
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Observability
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites-for-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites for Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-scenarios" class="md-nav__link">
    <span class="md-ellipsis">
      
        Test Scenarios
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expected-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Expected Output
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent Capabilities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent Capabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weather-agent" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weather Agent
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example Interactions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modify-agent-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modify Agent Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-additional-agentcore-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add Additional AgentCore Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modify-network-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modify Network Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customize-memory-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Customize Memory Settings
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Structure
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-observability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring and Observability
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring and Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudwatch-logs-automatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        CloudWatch Logs (Automatic)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x-ray-traces-automatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        X-Ray Traces (Automatic)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metrics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-console" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS Console
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iam-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      
        IAM Permissions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secrets-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Secrets Management
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Debug Commands
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cleanup
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cleanup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Cleanup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Cleanup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-topics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Topics
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-custom-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding Custom Tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Implementing Memory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-region-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Region Deployment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resources
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Contributing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Weather agent terraform deploy readme</h1>

<p>End-to-End Weather Agent on Amazon Bedrock AgentCore (Terraform)</p>
<p>This Terraform module deploys a comprehensive weather agent using Amazon Bedrock AgentCore Runtime with integrated AgentCore tools (Browser, Code Interpreter, and Memory).</p>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#whats-included">What's Included</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#deployment-process">Deployment Process</a></li>
<li><a href="#authentication-model">Authentication Model</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#agent-capabilities">Agent Capabilities</a></li>
<li><a href="#customization">Customization</a></li>
<li><a href="#file-structure">File Structure</a></li>
<li><a href="#monitoring-and-observability">Monitoring and Observability</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#cleanup">Cleanup</a></li>
<li><a href="#advanced-topics">Advanced Topics</a></li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This pattern demonstrates deploying a full-featured weather agent with Amazon Bedrock AgentCore tools, enabling sophisticated weather intelligence capabilities through web browsing, code execution, and persistent memory.</p>
<p><strong>Key Features:</strong>
- Integrated AgentCore tools (Browser, Code Interpreter, Memory)
- Automated Docker image building via CodeBuild
- S3-based artifact storage for analysis results
- IAM-based security with tool-specific permissions
- Weather data visualization and analysis capabilities</p>
<p>This makes it ideal for:
- Building intelligent weather information systems
- Creating data analysis pipelines with code execution
- Implementing web scraping for real-time weather data
- Learning AgentCore tool integration patterns</p>
<h2 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h2>
<p><img alt="Weather Agent Architecture" src="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/04-infrastructure-as-code/terraform/end-to-end-weather-agent/architecture.png" /></p>
<h3 id="system-components">System Components<a class="headerlink" href="#system-components" title="Permanent link">&para;</a></h3>
<p><strong>Weather Agent Runtime</strong>
- Processes natural language weather queries
- Coordinates multiple tools for comprehensive responses
- Generates visualizations and detailed analyses
- Maintains conversation context across sessions</p>
<p><strong>AgentCore Tools</strong></p>
<ol>
<li><strong>Browser Tool</strong></li>
<li>Accesses weather websites and advisories</li>
<li>Scrapes real-time weather data</li>
<li>Retrieves alerts and warnings</li>
<li>
<p>Checks weather-related news</p>
</li>
<li>
<p><strong>Code Interpreter Tool</strong></p>
</li>
<li>Executes Python for data analysis</li>
<li>Creates weather visualizations (charts, graphs)</li>
<li>Performs statistical calculations</li>
<li>
<p>Processes and transforms weather data</p>
</li>
<li>
<p><strong>Memory</strong></p>
</li>
<li>Stores conversation history</li>
<li>Remembers user preferences</li>
<li>Maintains context across sessions</li>
<li>Event expiry: 30 days</li>
</ol>
<h3 id="tool-integration">Tool Integration<a class="headerlink" href="#tool-integration" title="Permanent link">&para;</a></h3>
<p>The agent seamlessly coordinates all tools:
- <strong>Query Processing</strong>: Understands weather-related requests
- <strong>Tool Selection</strong>: Chooses appropriate tools automatically
- <strong>Data Analysis</strong>: Uses Code Interpreter for complex calculations
- <strong>Web Access</strong>: Employs Browser for real-time information
- <strong>Context Retention</strong>: Leverages Memory for personalized responses</p>
<h2 id="whats-included">What's Included<a class="headerlink" href="#whats-included" title="Permanent link">&para;</a></h2>
<p>This Terraform configuration creates:</p>
<ul>
<li><strong>2 S3 Buckets</strong>: </li>
<li>Source code storage with versioning</li>
<li>Results bucket for analysis artifacts</li>
<li><strong>1 ECR Repository</strong>: Container registry for ARM64 Docker image</li>
<li><strong>1 CodeBuild Project</strong>: Automated image building and pushing</li>
<li><strong>2 IAM Roles</strong>: </li>
<li>Agent execution role (with tool permissions)</li>
<li>CodeBuild service role</li>
<li><strong>1 Agent Runtime</strong>: Weather agent with tool integration</li>
<li><strong>3 AgentCore Tools</strong>:</li>
<li>Browser for web access</li>
<li>Code Interpreter for analysis</li>
<li>Memory for context retention</li>
<li><strong>Build Automation</strong>: Automatic rebuild on code changes (MD5-based detection)</li>
<li><strong>Supporting Resources</strong>: S3 lifecycle policies, ECR lifecycle policies, IAM policies</li>
</ul>
<p><strong>Total:</strong> ~20 AWS resources deployed and managed by Terraform</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<h3 id="required-tools">Required Tools<a class="headerlink" href="#required-tools" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Terraform</strong> (&gt;= 1.6)</li>
<li><strong>Recommended</strong>: <a href="https://github.com/tfutils/tfenv">tfenv</a> for version management</li>
<li><strong>Or download directly</strong>: <a href="https://www.terraform.io/downloads">terraform.io/downloads</a></li>
</ol>
<p><strong>Note</strong>: <code>brew install terraform</code> provides v1.5.7 (deprecated). Use tfenv or direct download for &gt;= 1.6.</p>
<ol>
<li>
<p><strong>AWS CLI</strong> (configured with credentials)
   <div class="highlight"><pre><span></span><code>aws<span class="w"> </span>configure
</code></pre></div></p>
</li>
<li>
<p><strong>Python 3.11+</strong> (for testing scripts and memory initialization)
   <div class="highlight"><pre><span></span><code>python<span class="w"> </span>--version<span class="w">  </span><span class="c1"># Verify Python 3.11 or later</span>
pip<span class="w"> </span>install<span class="w"> </span>boto3
</code></pre></div></p>
</li>
</ol>
<p><strong>Note</strong>: <code>boto3</code> is required for:
   - Running test scripts (<code>test_weather_agent.py</code>)
   - Automatic memory initialization during deployment</p>
<ol>
<li><strong>Docker</strong> (for local testing, optional)</li>
</ol>
<h3 id="aws-account-requirements">AWS Account Requirements<a class="headerlink" href="#aws-account-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li>AWS Account with appropriate permissions</li>
<li>Access to Amazon Bedrock AgentCore service</li>
<li>Permissions to create:</li>
<li>S3 buckets</li>
<li>ECR repositories</li>
<li>CodeBuild projects</li>
<li>IAM roles and policies</li>
<li>AgentCore Runtime resources</li>
</ul>
<h2 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h2>
<h3 id="1-configure-variables">1. Configure Variables<a class="headerlink" href="#1-configure-variables" title="Permanent link">&para;</a></h3>
<p>Copy the example variables file and customize:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>terraform.tfvars.example<span class="w"> </span>terraform.tfvars
</code></pre></div>
<p>Edit <code>terraform.tfvars</code> with your preferred values:
- <code>agent_name</code>: Name for the weather agent (default: "WeatherAgent")
- <code>memory_name</code>: Name for memory resource (default: "WeatherAgentMemory")
- <code>stack_name</code>: Stack identifier (default: "agentcore-weather")
- <code>aws_region</code>: AWS region for deployment (default: "us-west-2")
- <code>network_mode</code>: PUBLIC or PRIVATE networking</p>
<h3 id="2-initialize-terraform">2. Initialize Terraform<a class="headerlink" href="#2-initialize-terraform" title="Permanent link">&para;</a></h3>
<p>See <a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/04-infrastructure-as-code/terraform/README.md#state-management-options">State Management Options</a> in the main README for detailed guidance on local vs. remote state.</p>
<p><strong>Quick start with local state:</strong>
<div class="highlight"><pre><span></span><code>terraform<span class="w"> </span>init
</code></pre></div></p>
<p><strong>For team collaboration, use remote state</strong> - see the <a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/04-infrastructure-as-code/terraform/README.md#state-management-options">main README</a> for setup instructions.</p>
<h3 id="3-deploy">3. Deploy<a class="headerlink" href="#3-deploy" title="Permanent link">&para;</a></h3>
<p><strong>Method 1: Using Deploy Script (Recommended)</strong></p>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>deploy.sh
./deploy.sh
</code></pre></div>
<p>The script validates configuration, shows the plan, and deploys all resources.</p>
<p><strong>Method 2: Direct Terraform Commands</strong></p>
<div class="highlight"><pre><span></span><code>terraform<span class="w"> </span>plan
terraform<span class="w"> </span>apply
</code></pre></div>
<p><strong>Note</strong>: Deployment includes creating infrastructure, building the Docker image, and provisioning all AgentCore tools. Total deployment time: <strong>~8-12 minutes</strong></p>
<h3 id="4-verify-deployment">4. Verify Deployment<a class="headerlink" href="#4-verify-deployment" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># View all outputs</span>
terraform<span class="w"> </span>output

<span class="c1"># Get Agent and Tool IDs</span>
terraform<span class="w"> </span>output<span class="w"> </span>agent_runtime_arn
terraform<span class="w"> </span>output<span class="w"> </span>browser_id
terraform<span class="w"> </span>output<span class="w"> </span>code_interpreter_id
terraform<span class="w"> </span>output<span class="w"> </span>memory_id
</code></pre></div>
<h2 id="deployment-process">Deployment Process<a class="headerlink" href="#deployment-process" title="Permanent link">&para;</a></h2>
<h3 id="build-and-deployment-sequence">Build and Deployment Sequence<a class="headerlink" href="#build-and-deployment-sequence" title="Permanent link">&para;</a></h3>
<p>The deployment follows this sequence:</p>
<div class="highlight"><pre><span></span><code>1. S3 Buckets Creation (source &amp; results)
2. ECR Repository Creation
3. IAM Roles Creation (with tool permissions)
4. AgentCore Tools Creation (Browser, Code Interpreter, Memory)
5. CodeBuild Project Creation
6. Docker Image Build
7. Weather Agent Runtime Creation (with tool IDs as environment variables)
</code></pre></div>
<p><strong>Tool Integration:</strong>
- Agent receives tool IDs as environment variables
- IAM role grants permissions for tool operations
- Tools are created before agent runtime
- Results bucket for code interpreter outputs</p>
<h3 id="build-triggers">Build Triggers<a class="headerlink" href="#build-triggers" title="Permanent link">&para;</a></h3>
<p>The infrastructure automatically triggers Docker image builds:
- When source code changes (MD5 hash detection)
- When infrastructure changes require rebuild
- Build typically takes 5-8 minutes</p>
<h3 id="memory-initialization">Memory Initialization<a class="headerlink" href="#memory-initialization" title="Permanent link">&para;</a></h3>
<p>Memory is automatically initialized with activity preferences (good/ok/poor weather activities) via <code>scripts/init-memory.py</code> during deployment. The agent uses these preferences for weather-based activity recommendations.</p>
<h3 id="observability">Observability<a class="headerlink" href="#observability" title="Permanent link">&para;</a></h3>
<p>Full observability is automatically configured with CloudWatch Logs (14-day retention) and X-Ray traces. Logs are delivered via vended logs delivery to <code>/aws/vendedlogs/bedrock-agentcore/${runtime_id}</code>. Access via CloudWatch Console or <code>aws logs tail</code> command.</p>
<h2 id="authentication-model">Authentication Model<a class="headerlink" href="#authentication-model" title="Permanent link">&para;</a></h2>
<p>This pattern uses <strong>IAM-based authentication with workload identity tokens</strong>:</p>
<ul>
<li><strong>Service Principal</strong>: Agent assumes IAM role via <code>bedrock-agentcore.amazonaws.com</code></li>
<li><strong>Workload Identity</strong>: Agent obtains access tokens for secure operations</li>
<li><strong>Tool Access</strong>: IAM permissions for Browser, Code Interpreter, and Memory</li>
<li><strong>S3 Access</strong>: Agent can write analysis results to S3 bucket</li>
</ul>
<p><strong>Note</strong>: This is a backend infrastructure pattern with no user authentication layer. For user-facing applications, you would add Cognito or API Gateway authorizers separately.</p>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h2>
<p>The included <code>test_weather_agent.py</code> script is <strong>infrastructure-agnostic</strong> and works with any deployment method (Terraform, CDK, CloudFormation, or manual).</p>
<h3 id="prerequisites-for-testing">Prerequisites for Testing<a class="headerlink" href="#prerequisites-for-testing" title="Permanent link">&para;</a></h3>
<p>Before testing, ensure you have the required packages installed:</p>
<p><strong>Option A: Using uv (Recommended)</strong>
<div class="highlight"><pre><span></span><code>uv<span class="w"> </span>venv
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate<span class="w">  </span><span class="c1"># On Windows: .venv\Scripts\activate</span>
uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>boto3<span class="w">  </span><span class="c1"># Required for agent invocation</span>
</code></pre></div></p>
<p><strong>Option B: System-wide installation</strong>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>boto3<span class="w">  </span><span class="c1"># Required for agent invocation</span>
</code></pre></div></p>
<p><strong>Note</strong>: <code>boto3</code> is required for the test script to invoke the agent runtime via AWS API.</p>
<h3 id="basic-testing">Basic Testing<a class="headerlink" href="#basic-testing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Get ARN from Terraform</span>
<span class="nv">AGENT_ARN</span><span class="o">=</span><span class="k">$(</span>terraform<span class="w"> </span>output<span class="w"> </span>-raw<span class="w"> </span>agent_runtime_arn<span class="k">)</span>

<span class="c1"># Test the agent</span>
python<span class="w"> </span>test_weather_agent.py<span class="w"> </span><span class="nv">$AGENT_ARN</span>
</code></pre></div>
<h3 id="test-scenarios">Test Scenarios<a class="headerlink" href="#test-scenarios" title="Permanent link">&para;</a></h3>
<p>The script runs two comprehensive tests:
1. <strong>Simple Weather Query</strong>: Basic weather information request
2. <strong>Complex Query with Tools</strong>: Demonstrates browser, code interpreter, and memory usage together</p>
<h3 id="expected-output">Expected Output<a class="headerlink" href="#expected-output" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>TEST 1: Simple Weather Query ✅
TEST 2: Complex Query with Tools ✅

✅ ALL TESTS PASSED
</code></pre></div>
<h2 id="agent-capabilities">Agent Capabilities<a class="headerlink" href="#agent-capabilities" title="Permanent link">&para;</a></h2>
<h3 id="weather-agent">Weather Agent<a class="headerlink" href="#weather-agent" title="Permanent link">&para;</a></h3>
<p><strong>Core Capabilities:</strong>
- Natural language weather queries
- Real-time weather data access
- Historical weather analysis
- Weather forecasting insights
- Multi-location comparisons
- Travel weather planning</p>
<p><strong>Integrated Tools:</strong></p>
<ol>
<li><strong>Browser Tool</strong></li>
<li>Access weather.gov, weather.com, and other weather sites</li>
<li>Retrieve current conditions and forecasts</li>
<li>Check weather alerts and warnings</li>
<li>
<p>Gather radar and satellite imagery links</p>
</li>
<li>
<p><strong>Code Interpreter Tool</strong></p>
</li>
<li>Analyze temperature trends</li>
<li>Create weather visualizations (line charts, bar graphs)</li>
<li>Calculate statistics (averages, extremes)</li>
<li>Process historical weather data</li>
<li>
<p>Generate custom weather reports</p>
</li>
<li>
<p><strong>Memory</strong></p>
</li>
<li>Remember user location preferences</li>
<li>Track frequently requested locations</li>
<li>Maintain conversation context</li>
<li>Store user preferences for units (F/C)</li>
<li>Pre-initialized with activity preferences for weather-based recommendations</li>
</ol>
<h3 id="example-interactions">Example Interactions<a class="headerlink" href="#example-interactions" title="Permanent link">&para;</a></h3>
<p><strong>Simple Query:</strong>
<div class="highlight"><pre><span></span><code>User: &quot;What&#39;s the weather like in Seattle?&quot;
Agent: [Uses Browser] Provides current conditions, forecast, temperature
</code></pre></div></p>
<p><strong>Analysis Query:</strong>
<div class="highlight"><pre><span></span><code>User: &quot;Compare temperatures between New York and Miami over the past week&quot;
Agent: [Uses Browser + Code Interpreter] Fetches data, creates comparison chart
</code></pre></div></p>
<p><strong>Planning Query:</strong>
<div class="highlight"><pre><span></span><code>User: &quot;I&#39;m planning a road trip from Boston to Miami next week. What should I expect?&quot;
Agent: [Uses Browser + Memory] Provides route-based weather forecast, remembers trip details
</code></pre></div></p>
<h2 id="customization">Customization<a class="headerlink" href="#customization" title="Permanent link">&para;</a></h2>
<h3 id="modify-agent-code">Modify Agent Code<a class="headerlink" href="#modify-agent-code" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>Edit Agent Files</strong>
   <div class="highlight"><pre><span></span><code>vim<span class="w"> </span>agent-code/weather_agent.py
vim<span class="w"> </span>agent-code/requirements.txt
vim<span class="w"> </span>agent-code/Dockerfile
</code></pre></div></p>
</li>
<li>
<p><strong>Redeploy</strong>
   <div class="highlight"><pre><span></span><code>terraform<span class="w"> </span>apply<span class="w">  </span><span class="c1"># Automatically detects changes and rebuilds</span>
</code></pre></div></p>
</li>
</ol>
<h3 id="add-additional-agentcore-tools">Add Additional AgentCore Tools<a class="headerlink" href="#add-additional-agentcore-tools" title="Permanent link">&para;</a></h3>
<p>To add more tools:
1. Create new tool resource file (e.g., <code>gateway.tf</code>)
2. Add tool ID to agent environment variables in <code>main.tf</code>
3. Update IAM permissions in <code>iam.tf</code> if needed
4. Update <code>outputs.tf</code> with new tool outputs</p>
<h3 id="modify-network-configuration">Modify Network Configuration<a class="headerlink" href="#modify-network-configuration" title="Permanent link">&para;</a></h3>
<p>Change from PUBLIC to PRIVATE networking:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># terraform.tfvars</span>
<span class="na">network_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PRIVATE&quot;</span>
</code></pre></div>
<p>Requires VPC configuration (not included in this module).</p>
<h3 id="customize-memory-settings">Customize Memory Settings<a class="headerlink" href="#customize-memory-settings" title="Permanent link">&para;</a></h3>
<p>Adjust memory retention period:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># memory.tf</span>
<span class="na">event_expiry_duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">60</span><span class="c1">  # Change from 30 to 60 days</span>
</code></pre></div>
<h2 id="file-structure">File Structure<a class="headerlink" href="#file-structure" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>end-to-end-weather-agent/
├── agent-code/               # Weather agent source code
│   ├── weather_agent.py      # Agent implementation
│   ├── requirements.txt      # Python dependencies
│   └── Dockerfile            # Container definition
├── scripts/                  # Build automation and initialization
│   ├── build-image.sh        # Docker build script
│   └── init-memory.py        # Memory initialization script
├── main.tf                   # Agent runtime configuration
├── browser.tf                # Browser tool
├── code_interpreter.tf       # Code interpreter tool
├── memory.tf                 # Memory resource
├── memory-init.tf            # Memory initialization automation
├── observability.tf          # CloudWatch Logs and X-Ray traces
├── iam.tf                    # IAM roles and policies
├── s3.tf                     # S3 buckets
├── ecr.tf                    # ECR repository
├── codebuild.tf              # CodeBuild project
├── outputs.tf                # Output values
├── variables.tf              # Input variables
├── versions.tf               # Provider versions
├── buildspec.yml             # CodeBuild specification
├── test_weather_agent.py     # Infrastructure-agnostic test script
├── deploy.sh                 # Deployment automation
├── destroy.sh                # Cleanup automation
├── terraform.tfvars.example  # Example configuration
├── backend.tf.example        # Remote state example
├── .gitignore                # Git exclusions
├── architecture.png          # Architecture diagram
└── README.md                 # This file
</code></pre></div>
<h2 id="monitoring-and-observability">Monitoring and Observability<a class="headerlink" href="#monitoring-and-observability" title="Permanent link">&para;</a></h2>
<h3 id="cloudwatch-logs-automatic">CloudWatch Logs (Automatic)<a class="headerlink" href="#cloudwatch-logs-automatic" title="Permanent link">&para;</a></h3>
<p>Terraform automatically creates CloudWatch Log Group with vended logs delivery:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Get log group name</span>
<span class="nv">LOG_GROUP</span><span class="o">=</span><span class="k">$(</span>terraform<span class="w"> </span>output<span class="w"> </span>-raw<span class="w"> </span>log_group_name<span class="k">)</span>

<span class="c1"># Tail agent logs</span>
aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span><span class="nv">$LOG_GROUP</span><span class="w"> </span>--follow

<span class="c1"># CodeBuild logs</span>
aws<span class="w"> </span>logs<span class="w"> </span>tail<span class="w"> </span>/aws/codebuild/agentcore-weather-agent-build<span class="w"> </span>--follow
</code></pre></div>
<h3 id="x-ray-traces-automatic">X-Ray Traces (Automatic)<a class="headerlink" href="#x-ray-traces-automatic" title="Permanent link">&para;</a></h3>
<p>Distributed tracing automatically delivered to X-Ray. View traces in <a href="https://console.aws.amazon.com/xray/home">X-Ray Console</a>.</p>
<h3 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Permanent link">&para;</a></h3>
<p>Access metrics in CloudWatch:
- Agent invocation count
- Tool usage frequency (Browser, Code Interpreter, Memory)
- Agent execution duration
- Error rates
- Code interpreter execution time</p>
<h3 id="aws-console">AWS Console<a class="headerlink" href="#aws-console" title="Permanent link">&para;</a></h3>
<p>Monitor in AWS Console:
- <strong>CloudWatch Logs</strong>: Vended logs at <code>/aws/vendedlogs/bedrock-agentcore/${runtime_id}</code>
- <strong>X-Ray</strong>: Distributed request traces
- <strong>Bedrock AgentCore</strong>: <a href="https://console.aws.amazon.com/bedrock/home#/agentcore">Console Link</a>
- <strong>ECR Repository</strong>: Docker images
- <strong>CodeBuild</strong>: Build status
- <strong>S3 Results Bucket</strong>: Generated artifacts</p>
<h2 id="security">Security<a class="headerlink" href="#security" title="Permanent link">&para;</a></h2>
<h3 id="iam-permissions">IAM Permissions<a class="headerlink" href="#iam-permissions" title="Permanent link">&para;</a></h3>
<p><strong>Agent Execution Role:</strong>
- Standard AgentCore permissions
- ECR image pull access
- S3 read/write for results bucket
- CloudWatch Logs write access
- Tool-specific permissions (Browser, Code Interpreter, Memory access)</p>
<p><strong>CodeBuild Role:</strong>
- S3 access to source bucket
- ECR push access
- CloudWatch Logs write access</p>
<h3 id="network-security">Network Security<a class="headerlink" href="#network-security" title="Permanent link">&para;</a></h3>
<ul>
<li>Agent runs in specified network mode (PUBLIC/PRIVATE)</li>
<li>ECR repository has account-level access controls</li>
<li>S3 buckets block public access</li>
<li>IAM policies follow least-privilege principle</li>
<li>Tool resources use network isolation</li>
</ul>
<h3 id="secrets-management">Secrets Management<a class="headerlink" href="#secrets-management" title="Permanent link">&para;</a></h3>
<p>For sensitive data:
- Use AWS Secrets Manager
- Pass secret ARNs as environment variables
- Retrieve secrets at runtime in agent code</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<p><strong>Issue</strong>: Agent cannot access tools
- <strong>Solution</strong>: Verify tool IDs are set as environment variables
- <strong>Check</strong>: IAM permissions include tool access</p>
<p><strong>Issue</strong>: Code Interpreter fails
- <strong>Solution</strong>: Check CloudWatch logs for Python errors
- <strong>Check</strong>: Verify results bucket permissions</p>
<p><strong>Issue</strong>: Browser tool times out
- <strong>Solution</strong>: Check network connectivity
- <strong>Check</strong>: Verify target websites are accessible</p>
<p><strong>Issue</strong>: Build fails
- <strong>Solution</strong>: Check CodeBuild logs in CloudWatch
- <strong>Check</strong>: Verify source code is in correct directory</p>
<p><strong>Issue</strong>: Runtime not created
- <strong>Solution</strong>: Verify ECR image exists and is tagged correctly
- <strong>Check</strong>: Review Terraform state for errors</p>
<h3 id="debug-commands">Debug Commands<a class="headerlink" href="#debug-commands" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Check Terraform state</span>
terraform<span class="w"> </span>show

<span class="c1"># Validate configuration</span>
terraform<span class="w"> </span>validate

<span class="c1"># View specific resource</span>
terraform<span class="w"> </span>state<span class="w"> </span>show<span class="w"> </span>aws_bedrockagentcore_agent_runtime.agent

<span class="c1"># Get tool IDs</span>
terraform<span class="w"> </span>output<span class="w"> </span>browser_id
terraform<span class="w"> </span>output<span class="w"> </span>code_interpreter_id
terraform<span class="w"> </span>output<span class="w"> </span>memory_id

<span class="c1"># Check results bucket</span>
aws<span class="w"> </span>s3<span class="w"> </span>ls<span class="w"> </span>s3://<span class="k">$(</span>terraform<span class="w"> </span>output<span class="w"> </span>-raw<span class="w"> </span>results_bucket_name<span class="k">)</span>/

<span class="c1"># Get detailed build logs</span>
<span class="nv">PROJECT_NAME</span><span class="o">=</span><span class="k">$(</span>terraform<span class="w"> </span>output<span class="w"> </span>-raw<span class="w"> </span>agent_codebuild_project_name<span class="k">)</span>
aws<span class="w"> </span>codebuild<span class="w"> </span>batch-get-builds<span class="w"> </span>--ids<span class="w"> </span><span class="k">$(</span>aws<span class="w"> </span>codebuild<span class="w"> </span>list-builds-for-project<span class="w"> </span>--project-name<span class="w"> </span><span class="nv">$PROJECT_NAME</span><span class="w"> </span>--query<span class="w"> </span><span class="s1">&#39;ids[0]&#39;</span><span class="w"> </span>--output<span class="w"> </span>text<span class="k">)</span>
</code></pre></div>
<h2 id="cleanup">Cleanup<a class="headerlink" href="#cleanup" title="Permanent link">&para;</a></h2>
<h3 id="automated-cleanup">Automated Cleanup<a class="headerlink" href="#automated-cleanup" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span>+x<span class="w"> </span>destroy.sh
./destroy.sh
</code></pre></div>
<p>The script shows the destruction plan, requires confirmation, and destroys all resources.</p>
<h3 id="manual-cleanup">Manual Cleanup<a class="headerlink" href="#manual-cleanup" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>terraform<span class="w"> </span>destroy
</code></pre></div>
<p><strong>Important</strong>: Verify in AWS Console that all resources are deleted:
- Bedrock AgentCore runtimes
- ECR repositories
- S3 buckets
- CodeBuild projects
- IAM roles</p>
<h2 id="advanced-topics">Advanced Topics<a class="headerlink" href="#advanced-topics" title="Permanent link">&para;</a></h2>
<h3 id="adding-custom-tools">Adding Custom Tools<a class="headerlink" href="#adding-custom-tools" title="Permanent link">&para;</a></h3>
<ol>
<li>Define tool schema in agent code</li>
<li>Implement tool handler function</li>
<li>Register tool with agent</li>
<li>Rebuild and deploy</li>
</ol>
<h3 id="implementing-memory">Implementing Memory<a class="headerlink" href="#implementing-memory" title="Permanent link">&para;</a></h3>
<p>Add session management in agent code:
<div class="highlight"><pre><span></span><code><span class="n">session_data</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">handle_request</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">session_id</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">session_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">session_data</span><span class="p">:</span>
        <span class="n">session_data</span><span class="p">[</span><span class="n">session_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Use session_data for context</span>
</code></pre></div></p>
<h3 id="multi-region-deployment">Multi-Region Deployment<a class="headerlink" href="#multi-region-deployment" title="Permanent link">&para;</a></h3>
<p>For multi-region:
1. Configure backend for state locking
2. Deploy to each region separately
3. Use Route53 for failover
4. Consider cross-region replication for S3/ECR</p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><strong>Test the deployment</strong>
   <div class="highlight"><pre><span></span><code>python<span class="w"> </span>test_weather_agent.py<span class="w"> </span><span class="k">$(</span>terraform<span class="w"> </span>output<span class="w"> </span>-raw<span class="w"> </span>agent_runtime_arn<span class="k">)</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Customize the agent</strong> for your specific use case</p>
</li>
<li>Modify weather data sources</li>
<li>Add custom weather analysis logic</li>
<li>Integrate additional external APIs</li>
<li>
<p>Enhance visualization capabilities</p>
</li>
<li>
<p><strong>Explore related patterns</strong></p>
</li>
<li><a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/04-infrastructure-as-code/terraform/multi-agent-runtime/">Multi-Agent Runtime</a> - Agent-to-Agent communication</li>
<li><a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/04-infrastructure-as-code/terraform/mcp-server-agentcore-runtime/">MCP Server Pattern</a> - MCP protocol with JWT auth</li>
<li>
<p><a href="https://github.com/aws-samples/amazon-bedrock-agentcore-samples">AgentCore Samples</a> - More examples</p>
</li>
<li>
<p><strong>Add production features</strong></p>
</li>
<li>Monitoring and alerting</li>
<li>Custom authentication layer</li>
<li>VPC deployment for private networking</li>
<li>CI/CD pipeline integration</li>
<li>Rate limiting and throttling</li>
</ol>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://docs.aws.amazon.com/bedrock/latest/userguide/agents.html">Amazon Bedrock AgentCore Documentation</a></li>
<li><a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs">Terraform AWS Provider</a></li>
<li><a href="https://docs.aws.amazon.com/bedrock/latest/userguide/agentcore-a2a.html">Agent-to-Agent Communication</a></li>
<li><a href="https://modelcontextprotocol.io/">Model Context Protocol</a></li>
</ul>
<h2 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">&para;</a></h2>
<p>We welcome contributions! Please see our <a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/CONTRIBUTING.md">Contributing Guide</a> for details.</p>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>This project is licensed under the MIT-0 license. See the <a href="../../../../../https:/raw.githubusercontent.com/awslabs/amazon-bedrock-agentcore-samples/refs/heads/main/LICENSE">LICENSE</a> file for details.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["content.code.copy", "content.code.select", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "search.highlight", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
    
  </body>
</html>