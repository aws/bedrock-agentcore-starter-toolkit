
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
      <meta name="description" content="Documentation for Amazon Bedrock AgentCore, primitives for building and running AI agents">
    
    
    
    
      <link rel="prev" href="vpc-interface-endpoints.html">
    
    
      <link rel="next" href="security-vpc-condition.html">
    
    
    <link rel="icon" href="../.." sizes="any">
    <link rel="icon" href="../../assets/images/favicon.png" type="image/svg+xml">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">

    
      
        <title>AgentCore VPC Configuration - Amazon Bedrock AgentCore</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configure-amazon-bedrock-agentcore-runtime-and-tools-for-vpc" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Amazon Bedrock AgentCore" class="md-header__button md-logo" aria-label="Amazon Bedrock AgentCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Amazon Bedrock AgentCore
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AgentCore VPC Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/bedrock-agentcore-starter-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../index.html" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/index.html" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/aws/bedrock-agentcore-sdk-python/blob/main/CONTRIBUTING.md" class="md-tabs__link">
        
  
  
    
  
  Contribute ❤️

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api-reference/runtime.html" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Amazon Bedrock AgentCore" class="md-nav__button md-logo" aria-label="Amazon Bedrock AgentCore" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Amazon Bedrock AgentCore
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/bedrock-agentcore-starter-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Runtime
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Runtime
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/permissions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Permissions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/async.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Async Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/notebook.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/a2a.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime A2A Server Deployment
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Gateway
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Gateway
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gateway/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gateway Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Memory
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Memory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../memory/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Identity
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Identity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../identity/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Identity Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Built-in Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Built-in Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtin-tools/quickstart-browser.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart Browser Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtin-tools/quickstart-code-interpreter.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quickstart Code Interpreter
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" checked>
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="vpc-interface-endpoints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPC Interface Endpoints
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    AgentCore VPC Configuration
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="agentcore-vpc.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    AgentCore VPC Configuration
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vpc-connectivity-for-amazon-bedrock-agentcore-runtime-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      VPC connectivity for Amazon Bedrock AgentCore Runtime and tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPC connectivity for Amazon Bedrock AgentCore Runtime and tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-availability-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Availability Zones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported Availability Zones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important_1" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iam-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      IAM permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-vpc-access-for-runtime-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring VPC access for runtime and tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring VPC access for runtime and tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runtime-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-interpreter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Code Interpreter configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-tool-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Browser Tool configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-group-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security group considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security group considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-connecting-to-an-amazon-rds-database" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Connecting to an Amazon RDS database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example: Connecting to an Amazon RDS database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amazon-bedrock-agentcore-runtime-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      Amazon Bedrock AgentCore Runtime security group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-rds-database-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      Amazon RDS database security group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-endpoint-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      VPC endpoint configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPC endpoint configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-vpc-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Required VPC endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required VPC endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_1" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-access-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Internet access considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet access considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internet-access-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Internet access architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Routing configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Routing configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important_2" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring and troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudwatch-logs" class="md-nav__link">
    <span class="md-ellipsis">
      CloudWatch Logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Common issues and solutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-interpreter-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Code Interpreter issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-tool-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Browser Tool issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-vpc-connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      Testing VPC connectivity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="security-vpc-condition.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPC Condition Keys
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Observability
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            Observability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../observability/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observability Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Import Agent
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            Import Agent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../import-agent/quickstart.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Import Agent Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../import-agent/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Import Agent Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../import-agent/configuration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Import Agent Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/agentcore-quickstart-example.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AgentCore Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/session-management.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/async-processing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Async Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/gateway-integration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gateway Integration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/memory_gateway_agent.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory Gateway Agent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/runtime-framework-agents.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime Framework Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/semantic_search.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Semantic Search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/aws/bedrock-agentcore-sdk-python/blob/main/CONTRIBUTING.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribute ❤️
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bedrock AgentCore SDK
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Bedrock AgentCore SDK
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/runtime.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/identity.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Identity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/memory.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/tools.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-in Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bedrock AgentCore Starter Toolkit
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Bedrock AgentCore Starter Toolkit
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/cli.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AgentCore CLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#vpc-connectivity-for-amazon-bedrock-agentcore-runtime-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      VPC connectivity for Amazon Bedrock AgentCore Runtime and tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPC connectivity for Amazon Bedrock AgentCore Runtime and tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-availability-zones" class="md-nav__link">
    <span class="md-ellipsis">
      Supported Availability Zones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supported Availability Zones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important_1" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iam-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      IAM permissions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-vpc-access-for-runtime-and-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring VPC access for runtime and tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring VPC access for runtime and tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runtime-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Runtime configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-interpreter-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Code Interpreter configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-tool-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Browser Tool configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-group-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Security group considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security group considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-connecting-to-an-amazon-rds-database" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Connecting to an Amazon RDS database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example: Connecting to an Amazon RDS database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#amazon-bedrock-agentcore-runtime-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      Amazon Bedrock AgentCore Runtime security group
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#amazon-rds-database-security-group" class="md-nav__link">
    <span class="md-ellipsis">
      Amazon RDS database security group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpc-endpoint-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      VPC endpoint configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPC endpoint configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-vpc-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Required VPC endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required VPC endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_1" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-access-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Internet access considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Internet access considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internet-access-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Internet access architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Routing configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Routing configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#important_2" class="md-nav__link">
    <span class="md-ellipsis">
      Important
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-and-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring and troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring and troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudwatch-logs" class="md-nav__link">
    <span class="md-ellipsis">
      CloudWatch Logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Common issues and solutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-interpreter-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Code Interpreter issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-tool-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Browser Tool issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-vpc-connectivity" class="md-nav__link">
    <span class="md-ellipsis">
      Testing VPC connectivity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="configure-amazon-bedrock-agentcore-runtime-and-tools-for-vpc">Configure Amazon Bedrock AgentCore Runtime and tools for VPC<a class="headerlink" href="#configure-amazon-bedrock-agentcore-runtime-and-tools-for-vpc" title="Permanent link">&para;</a></h1>
<p>You can configure Amazon Bedrock AgentCore Runtime and built-in tools (Code Interpreter and Browser Tool) to connect to resources in your Amazon Virtual Private Cloud (VPC). By configuring VPC connectivity, you enable secure access to private resources such as databases, internal APIs, and services within your VPC.</p>
<h2 id="vpc-connectivity-for-amazon-bedrock-agentcore-runtime-and-tools">VPC connectivity for Amazon Bedrock AgentCore Runtime and tools<a class="headerlink" href="#vpc-connectivity-for-amazon-bedrock-agentcore-runtime-and-tools" title="Permanent link">&para;</a></h2>
<p>To enable Amazon Bedrock AgentCore Runtime and built-in tools to securely access resources in your private VPC, Amazon Bedrock AgentCore provides VPC connectivity capabilities. This feature allows your runtime and tools to:</p>
<ul>
<li>Connect to private resources without exposing them to the internet</li>
<li>Maintain secure communications within your organization's network boundaries</li>
<li>Access enterprise data stores and internal services while preserving security</li>
</ul>
<p>When you configure VPC connectivity for Amazon Bedrock AgentCore Runtime and tools:</p>
<ul>
<li>Amazon Bedrock creates elastic network interfaces (ENIs) in your VPC using the service-linked role
  <code>AWSServiceRoleForBedrockAgentCoreNetwork</code></li>
<li>These ENIs enable your Amazon Bedrock AgentCore Runtime and tools to securely communicate with resources in your VPC</li>
<li>Each ENI is assigned a private IP address from the subnets you specify</li>
<li>Security groups attached to the ENIs control which resources your runtime and tools can communicate with</li>
</ul>
<h6 id="note">Note<a class="headerlink" href="#note" title="Permanent link">&para;</a></h6>
<p>VPC connectivity impacts only outbound network traffic from the runtime or tool. Inbound
requests to the runtime (such as invocations) are not routed through the VPC and are unaffected
by this configuration.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p>Before configuring Amazon Bedrock AgentCore Runtime and tools for VPC access, ensure you have:</p>
<ul>
<li>An Amazon VPC with appropriate subnets for your runtime and tool requirements. For example, to configure your subnets to have internet access, see <a href="#agentcore-internet-access" title="#agentcore-internet-access">Internet access considerations</a>.</li>
<li>Subnets located in supported Availability Zones for your region. For information about supported Availability Zones, see <a href="#agentcore-supported-azs" title="#agentcore-supported-azs">Supported Availability Zones</a>.</li>
<li>Appropriate security groups defined in your VPC for runtime and tool access patterns. For example, to configure your security groups to connect to Amazon RDS, see <a href="#agentcore-security-groups-example" title="#agentcore-security-groups-example">Example: Connecting to an Amazon RDS database</a>.</li>
<li>Required IAM permissions to create and manage the service-linked role (already included in the
  AWS managed policy <a href="https://docs.aws.amazon.com/aws-managed-policy/latest/reference/BedrockAgentCoreFullAccess.html" title="https://docs.aws.amazon.com/aws-managed-policy/latest/reference/BedrockAgentCoreFullAccess.html">BedrockAgentCoreFullAccess</a>). For information about required permissions, see <a href="#agentcore-iam-permissions" title="#agentcore-iam-permissions">IAM permissions</a>.</li>
<li>Required VPC endpoints if your VPC doesn't have internet access. For example, to configure your VPC endpoints, see <a href="#agentcore-vpc-endpoints" title="#agentcore-vpc-endpoints">VPC endpoint configuration</a>.</li>
<li>Understanding of your runtime and tool network requirements (databases, APIs, web resources). If you need to use Browser tool which requires internet access, then your VPC should have internet access through
  NAT Gateway. For example, see <a href="#agentcore-security-groups" title="#agentcore-security-groups">Security group considerations</a>.</li>
</ul>
<h6 id="important">Important<a class="headerlink" href="#important" title="Permanent link">&para;</a></h6>
<p>Amazon Bedrock AgentCore creates a network interface in your account with a private IP address. Using a public subnet does not provide internet connectivity.
To enable internet access, place it in private subnets with a route to a NAT Gateway.</p>
<h2 id="supported-availability-zones">Supported Availability Zones<a class="headerlink" href="#supported-availability-zones" title="Permanent link">&para;</a></h2>
<p>Amazon Bedrock AgentCore supports VPC connectivity in specific Availability Zones within each supported region. When configuring subnets for your Amazon Bedrock AgentCore Runtime and built-in tools, ensure that your subnets are located in the supported Availability Zones for your region.</p>
<p>The following table shows the supported Availability Zone IDs for each region:</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Region Code</th>
<th>Supported Availability Zones</th>
</tr>
</thead>
<tbody>
<tr>
<td>US East (N. Virginia)</td>
<td>us-east-1</td>
<td>* use1-az1 * use1-az2 * use1-az4</td>
</tr>
<tr>
<td>US East (Ohio)</td>
<td>us-east-2</td>
<td>* use2-az1 * use2-az2 * use2-az3</td>
</tr>
<tr>
<td>US West (Oregon)</td>
<td>us-west-2</td>
<td>* usw2-az1 * usw2-az2 * usw2-az3</td>
</tr>
<tr>
<td>Asia Pacific (Sydney)</td>
<td>ap-southeast-2</td>
<td>* apse2-az1 * apse2-az2 * apse2-az3</td>
</tr>
<tr>
<td>Asia Pacific (Mumbai)</td>
<td>ap-south-1</td>
<td>* aps1-az1 * aps1-az2 * aps1-az3</td>
</tr>
<tr>
<td>Asia Pacific (Singapore)</td>
<td>ap-southeast-1</td>
<td>* apse1-az1 * apse1-az2 * apse1-az3</td>
</tr>
<tr>
<td>Asia Pacific (Tokyo)</td>
<td>ap-northeast-1</td>
<td>* apne1-az1 * apne1-az2 * apne1-az4</td>
</tr>
<tr>
<td>Europe (Ireland)</td>
<td>eu-west-1</td>
<td>* euw1-az1 * euw1-az2 * euw1-az3</td>
</tr>
<tr>
<td>Europe (Frankfurt)</td>
<td>eu-central-1</td>
<td>* euc1-az1 * euc1-az2 * euc1-az3</td>
</tr>
</tbody>
</table>
<h6 id="important_1">Important<a class="headerlink" href="#important_1" title="Permanent link">&para;</a></h6>
<p>Subnets must be located in the supported Availability Zones listed above. If you specify subnets in unsupported Availability Zones, the configuration will fail during resource creation.</p>
<p>To identify the Availability Zone ID of your subnets, you can use the following CLI command:</p>
<div class="highlight"><pre><span></span><code>aws ec2 describe-subnets --subnet-ids subnet-12345678 --query &#39;Subnets[0].AvailabilityZoneId&#39;
</code></pre></div>
<h2 id="iam-permissions">IAM permissions<a class="headerlink" href="#iam-permissions" title="Permanent link">&para;</a></h2>
<p>Amazon Bedrock AgentCore uses the service-linked role <code>AWSServiceRoleForBedrockAgentCoreNetwork</code>
to create and manage network interfaces in your VPC. This role is automatically created when you first
configure Amazon Bedrock AgentCore Runtime or AgentCore built-in tools to use VPC connectivity.</p>
<p>If you need to create this role manually, your IAM entity needs the following permissions:</p>
<div class="highlight"><pre><span></span><code>{
    &quot;Action&quot;: &quot;iam:CreateServiceLinkedRole&quot;,
    &quot;Effect&quot;: &quot;Allow&quot;,
    &quot;Resource&quot;: &quot;arn:aws:iam::*:role/aws-service-role/network.bedrock-agentcore.amazonaws.com/AWSServiceRoleForBedrockAgentCoreNetwork&quot;,
    &quot;Condition&quot;: {
        &quot;StringLike&quot;: {
            &quot;iam:AWSServiceName&quot;: &quot;network.bedrock-agentcore.amazonaws.com&quot;
        }
    }
}
</code></pre></div>
<p>This permission is already included in the AWS managed policy
<a href="https://docs.aws.amazon.com/aws-managed-policy/latest/reference/BedrockAgentCoreFullAccess.html" title="https://docs.aws.amazon.com/aws-managed-policy/latest/reference/BedrockAgentCoreFullAccess.html">BedrockAgentCoreFullAccess</a>.</p>
<h2 id="best-practices">Best practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<p>For optimal performance and security with VPC-connected Amazon Bedrock AgentCore Runtime and built-in tools:</p>
<ul>
<li>
<p><strong>High Availability</strong>:</p>
</li>
<li>
<p>Configure at least two private subnets in different Availability Zones. For a list of supported Availability
    Zones, see <a href="#agentcore-supported-azs" title="#agentcore-supported-azs">Supported Availability Zones</a>.</p>
</li>
<li>Deploy dependent resources (such as databases or caches) with multi-AZ support to avoid single points of failure.</li>
<li>
<p><strong>Network Performance</strong>:</p>
</li>
<li>
<p>Place Amazon Bedrock AgentCore Runtime or built-in tools subnets in the same Availability Zones as the resources they connect to. This reduces cross-AZ latency and data transfer costs.</p>
</li>
<li>Use VPC endpoints for AWS services whenever possible. Endpoints provide lower latency, higher reliability, and avoid NAT gateway charges for supported services.</li>
<li>
<p><strong>Security</strong>:</p>
</li>
<li>
<p>Apply the principle of least privilege when creating security group rules.</p>
</li>
<li>Enable VPC Flow Logs for auditing and monitoring. Review logs regularly to identify unexpected traffic patterns.</li>
<li>
<p><strong>Internet Access</strong>:</p>
</li>
<li>
<p>To provide internet access from Amazon Bedrock AgentCore Runtime or built-in tools inside a VPC, configure a NAT gateway in a public subnet. Update the route table for private subnets to send outbound traffic (0.0.0.0/0) to the NAT gateway.</p>
</li>
<li>We recommend using VPC endpoints for AWS services instead of internet routing to improve security and reduce costs.</li>
</ul>
<h2 id="configuring-vpc-access-for-runtime-and-tools">Configuring VPC access for runtime and tools<a class="headerlink" href="#configuring-vpc-access-for-runtime-and-tools" title="Permanent link">&para;</a></h2>
<p>You can configure VPC access for Amazon Bedrock AgentCore Runtime and built-in tools using the AWS Management Console, AWS CLI, or AWS SDKs.</p>
<h3 id="runtime-configuration">Runtime configuration<a class="headerlink" href="#runtime-configuration" title="Permanent link">&para;</a></h3>
<p>AWS Management Console
:   1. Open the AgentCore console at <a href="https://console.aws.amazon.com/bedrock-agentcore/home#" title="https://console.aws.amazon.com/bedrock-agentcore/home#">https://console.aws.amazon.com/bedrock-agentcore/home#</a>.
    2. Navigate to the AgentCore section
    3. Select or create an Amazon Bedrock AgentCore Runtime configuration
    4. Choose your ECR image
    5. Under the Network configuration section, choose <strong>VPC</strong>
    6. Select your VPC from the dropdown list
    7. Select the appropriate subnets for your application needs
    8. Select one or more security groups to apply to the ENIs
    9. Save your configuration</p>
<p>AWS CLI
:   <code>aws bedrock-agentcore create-runtime \
      --runtime-name "MyAgentRuntime" \
      --network-configuration '{
          "networkMode": "VPC",
          "networkModeConfig": {
            "subnets": ["subnet-0123456789abcdef0", "subnet-0123456789abcdef1"],
            "securityGroups": ["sg-0123456789abcdef0"]
          }
        }'</code></p>
<p>AWS SDK (Python)
:   ```
    import boto3</p>
<div class="codehilite"><pre><span></span><code>client = boto3.client(&#39;bedrock-agentcore&#39;)

response = client.create_runtime(
    runtimeName=&#39;MyAgentRuntime&#39;,
    networkConfiguration={
        &#39;networkMode&#39;: &#39;VPC&#39;,
        &#39;networkModeConfig&#39;: {
            &#39;subnets&#39;: [&#39;subnet-0123456789abcdef0&#39;, &#39;subnet-0123456789abcdef1&#39;],
            &#39;securityGroups&#39;: [&#39;sg-0123456789abcdef0&#39;]
        }
    }
)
```
</code></pre></div>

<h3 id="code-interpreter-configuration">Code Interpreter configuration<a class="headerlink" href="#code-interpreter-configuration" title="Permanent link">&para;</a></h3>
<p>AWS Management Console
:   1. Open the AgentCore console at <a href="https://console.aws.amazon.com/bedrock-agentcore/home#" title="https://console.aws.amazon.com/bedrock-agentcore/home#">https://console.aws.amazon.com/bedrock-agentcore/home#</a>.
    2. Navigate to AgentCore → Built-in Tools → Code Interpreter
    3. Select <strong>Create Code Interpreter</strong> or modify existing configuration
    4. Provide a tool name (optional)
    5. Configure execution role with necessary permissions
    6. Under Network configuration, choose <strong>VPC</strong>
    7. Select your VPC from the dropdown
    8. Choose appropriate subnets (recommend private subnets across multiple AZs with NAT gateway)
    9. Select security groups for ENI access control
    10. Configure execution role with necessary permissions
    11. Save your configuration</p>
<p>AWS CLI
:   <code>aws bedrock-agentcore-control create-code-interpreter \
      --region &lt;Region&gt; \
      --name "my-code-interpreter" \
      --description "My Code Interpreter with VPC mode for data analysis" \
      --execution-role-arn "arn:aws:iam::123456789012:role/my-execution-role" \
      --network-configuration '{
        "networkMode": "VPC",
        "networkModeConfig": {
          "subnets": ["subnet-0123456789abcdef0", "subnet-0123456789abcdef1"],
          "securityGroups": ["sg-0123456789abcdef0"]
        }
      }'</code></p>
<p>AWS SDK (Python)
:   ```
    import boto3</p>
<div class="codehilite"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="n">Initialize</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">boto3</span><span class="w"> </span><span class="n">client</span>
<span class="n">cp_client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boto3</span><span class="p">.</span><span class="n">client</span><span class="p">(</span>
<span class="w">    </span><span class="p">&#39;</span><span class="n">bedrock</span><span class="o">-</span><span class="n">agentcore</span><span class="o">-</span><span class="n">control</span><span class="p">&#39;,</span><span class="w"> </span>
<span class="w">    </span><span class="n">region_name</span><span class="o">=</span><span class="s">&quot;&lt;Region&gt;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">endpoint_url</span><span class="o">=</span><span class="s">&quot;https://bedrock-agentcore-control.&lt;Region&gt;.amazonaws.com&quot;</span>
<span class="p">)</span>

<span class="p">#</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Code</span><span class="w"> </span><span class="n">Interpreter</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cp_client</span><span class="p">.</span><span class="n">create_code_interpreter</span><span class="p">(</span>
<span class="w">    </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;myTestVpcCodeInterpreter&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="o">=</span><span class="s">&quot;Test code sandbox for development&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">executionRoleArn</span><span class="o">=</span><span class="s">&quot;arn:aws:iam::123456789012:role/my-execution-role&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">networkConfiguration</span><span class="o">=</span><span class="p">{</span>
<span class="w">        </span><span class="p">&#39;</span><span class="n">networkMode</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">&#39;</span><span class="n">VPC</span><span class="p">&#39;,</span>
<span class="w">        </span><span class="p">&#39;</span><span class="n">networkModeConfig</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">&#39;</span><span class="n">subnets</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[&#39;</span><span class="n">subnet</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef0</span><span class="p">&#39;,</span><span class="w"> </span><span class="p">&#39;</span><span class="n">subnet</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef1</span><span class="p">&#39;],</span>
<span class="w">            </span><span class="p">&#39;</span><span class="n">securityGroups</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[&#39;</span><span class="n">sg</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef0</span><span class="p">&#39;]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">)</span>

<span class="p">#</span><span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Code</span><span class="w"> </span><span class="n">Interpreter</span><span class="w"> </span><span class="n">ID</span>
<span class="n">code_interpreter_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">[</span><span class="s">&quot;codeInterpreterId&quot;</span><span class="p">]</span>
<span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="s">&quot;Code Interpreter ID: {code_interpreter_id}&quot;</span><span class="p">)</span>
<span class="err">```</span>
</code></pre></div>

<h3 id="browser-tool-configuration">Browser Tool configuration<a class="headerlink" href="#browser-tool-configuration" title="Permanent link">&para;</a></h3>
<p>AWS Management Console
:   1. Open the AgentCore console at <a href="https://console.aws.amazon.com/bedrock-agentcore/home#" title="https://console.aws.amazon.com/bedrock-agentcore/home#">https://console.aws.amazon.com/bedrock-agentcore/home#</a>.
    2. In the navigation pane, choose <strong>Built-in tools</strong>
    3. Choose <strong>Create Browser tool</strong>
    4. Provide a tool name (optional) and description (optional)
    5. Set execution role permissions
    6. Under the Network configuration section, choose <strong>VPC</strong> mode
    7. Select your VPC and subnets
    8. Configure security groups for web access requirements
    9. Set execution role permissions
    10. Save your configuration</p>
<p>AWS CLI
:   <code>aws bedrock-agentcore-control create-browser \
      --region &lt;Region&gt; \
      --name "my-browser" \
      --description "My browser for web interaction" \
      --network-configuration '{
        "networkMode": "VPC",
        "networkModeConfig": {
          "subnets": ["subnet-0123456789abcdef0", "subnet-0123456789abcdef1"],
          "securityGroups": ["sg-0123456789abcdef0"]
        }
      }' \
      --recording '{ 
        "enabled": true, 
        "s3Location": { 
          "bucket": "my-bucket-name", 
          "prefix": "sessionreplay" 
        } 
      }' \
      --execution-role-arn "arn:aws:iam::123456789012:role/my-execution-role"</code></p>
<p>AWS SDK (Python)
:   ```
    import boto3</p>
<div class="codehilite"><pre><span></span><code><span class="p">#</span><span class="w"> </span><span class="n">Initialize</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">boto3</span><span class="w"> </span><span class="n">client</span>
<span class="n">cp_client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boto3</span><span class="p">.</span><span class="n">client</span><span class="p">(</span>
<span class="w">    </span><span class="p">&#39;</span><span class="n">bedrock</span><span class="o">-</span><span class="n">agentcore</span><span class="o">-</span><span class="n">control</span><span class="p">&#39;,</span><span class="w"> </span>
<span class="w">    </span><span class="n">region_name</span><span class="o">=</span><span class="s">&quot;&lt;Region&gt;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">endpoint_url</span><span class="o">=</span><span class="s">&quot;https://bedrock-agentcore-control.&lt;Region&gt;.amazonaws.com&quot;</span>
<span class="p">)</span>

<span class="p">#</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Browser</span>
<span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cp_client</span><span class="p">.</span><span class="n">create_browser</span><span class="p">(</span>
<span class="w">    </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;myTestVpcBrowser&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="o">=</span><span class="s">&quot;Test browser with VPC mode for development&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">networkConfiguration</span><span class="o">=</span><span class="p">{</span>
<span class="w">        </span><span class="p">&#39;</span><span class="n">networkMode</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">&#39;</span><span class="n">VPC</span><span class="p">&#39;,</span>
<span class="w">        </span><span class="p">&#39;</span><span class="n">networkModeConfig</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">&#39;</span><span class="n">subnets</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[&#39;</span><span class="n">subnet</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef0</span><span class="p">&#39;,</span><span class="w"> </span><span class="p">&#39;</span><span class="n">subnet</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef1</span><span class="p">&#39;],</span>
<span class="w">            </span><span class="p">&#39;</span><span class="n">securityGroups</span><span class="p">&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[&#39;</span><span class="n">sg</span><span class="o">-</span><span class="mh">0123456789</span><span class="n">abcdef0</span><span class="p">&#39;]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">executionRoleArn</span><span class="o">=</span><span class="s">&quot;arn:aws:iam::123456789012:role/Sessionreplay&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="n">recording</span><span class="o">=</span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;enabled&quot;</span><span class="o">:</span><span class="w"> </span><span class="n">True</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;s3Location&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;bucket&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;session-record-123456789012&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;prefix&quot;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;replay-data&quot;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">)</span>
<span class="err">```</span>
</code></pre></div>

<h2 id="security-group-considerations">Security group considerations<a class="headerlink" href="#security-group-considerations" title="Permanent link">&para;</a></h2>
<p>Security groups act as virtual firewalls for your Amazon Bedrock AgentCore Runtime or built-in tool when connected to a VPC. They control inbound and outbound traffic at the instance level. To configure security groups for your runtime:</p>
<ul>
<li><strong>Outbound rules</strong> – Define outbound rules to allow your Amazon Bedrock AgentCore Runtime to connect to required VPC resources.</li>
<li><strong>Inbound rules</strong> – Ensure that the target resource's security group allows inbound connections from the security group associated with your Amazon Bedrock AgentCore Runtime.</li>
<li><strong>Least privilege</strong> – Apply the principle of least privilege by allowing only the minimum required traffic.</li>
</ul>
<h3 id="example-connecting-to-an-amazon-rds-database">Example: Connecting to an Amazon RDS database<a class="headerlink" href="#example-connecting-to-an-amazon-rds-database" title="Permanent link">&para;</a></h3>
<p>When your Amazon Bedrock AgentCore Runtime connects to an Amazon RDS database, configure the security groups as follows:</p>
<h6 id="amazon-bedrock-agentcore-runtime-security-group">Amazon Bedrock AgentCore Runtime security group<a class="headerlink" href="#amazon-bedrock-agentcore-runtime-security-group" title="Permanent link">&para;</a></h6>
<ul>
<li><strong>Outbound</strong> – Allow TCP traffic to the RDS database's security group on port 3306 (MySQL).</li>
<li><strong>Inbound</strong> – Not required. The runtime only initiates outbound connections.</li>
</ul>
<h6 id="amazon-rds-database-security-group">Amazon RDS database security group<a class="headerlink" href="#amazon-rds-database-security-group" title="Permanent link">&para;</a></h6>
<ul>
<li><strong>Inbound</strong> – Allow TCP traffic from the Amazon Bedrock AgentCore Runtime security group on port 3306.</li>
<li><strong>Outbound</strong> – Not required. Return traffic is automatically allowed because security groups are stateful.</li>
</ul>
<h2 id="vpc-endpoint-configuration">VPC endpoint configuration<a class="headerlink" href="#vpc-endpoint-configuration" title="Permanent link">&para;</a></h2>
<p>When running Amazon Bedrock AgentCore Runtime in a private VPC without internet access, you must configure
the following VPC endpoints to ensure proper functionality:</p>
<h3 id="required-vpc-endpoints">Required VPC endpoints<a class="headerlink" href="#required-vpc-endpoints" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Amazon ECR Requirements</strong>:</p>
</li>
<li>
<p>Docker endpoint: <code>com.amazonaws.region.ecr.dkr</code></p>
</li>
<li>ECR API endpoint: <code>com.amazonaws.region.ecr.api</code></li>
<li>
<p><strong>Amazon S3 Requirements</strong>:</p>
</li>
<li>
<p>Gateway endpoint for ECR docker layer storage: <code>com.amazonaws.region.s3</code></p>
</li>
<li>
<p><strong>CloudWatch Requirements</strong>:</p>
</li>
<li>
<p>Logs endpoint: <code>com.amazonaws.region.logs</code></p>
</li>
</ul>
<h6 id="note_1">Note<a class="headerlink" href="#note_1" title="Permanent link">&para;</a></h6>
<p>Be sure to replace <code>region</code> with your specific region if different.</p>
<h3 id="internet-access-considerations">Internet access considerations<a class="headerlink" href="#internet-access-considerations" title="Permanent link">&para;</a></h3>
<p>When you connect Amazon Bedrock AgentCore Runtime or a built-in tool to a Virtual Private Cloud (VPC), it does not have internet access by default. By default, these resources can communicate only with resources inside the same VPC. If your runtime or tool requires access to both VPC resources and the internet, you must configure your VPC accordingly.</p>
<h4 id="internet-access-architecture">Internet access architecture<a class="headerlink" href="#internet-access-architecture" title="Permanent link">&para;</a></h4>
<p>To enable internet access for your VPC-connected Amazon Bedrock AgentCore Runtime or built-in tool, configure your VPC with the following components:</p>
<ul>
<li><strong>Private subnets</strong> – Place the Amazon Bedrock AgentCore Runtime or tool's network interfaces in private subnets.</li>
<li><strong>Public subnets with a NAT gateway</strong> – Deploy a NAT gateway in one or more public subnets to provide outbound internet access for private resources.</li>
<li><strong>Internet gateway (IGW)</strong> – Attach an internet gateway to your VPC to enable communication between the NAT gateway and the internet.</li>
</ul>
<h4 id="routing-configuration">Routing configuration<a class="headerlink" href="#routing-configuration" title="Permanent link">&para;</a></h4>
<p>Update your subnet route tables as follows:</p>
<ul>
<li><strong>Private subnet route table</strong> – Add a default route (0.0.0.0/0) that points to the NAT gateway. This allows outbound traffic from the runtime or tool to reach the internet.</li>
<li><strong>Public subnet route table</strong> – Add a default route (0.0.0.0/0) that points to the internet gateway. This allows the NAT gateway to communicate with the internet.</li>
</ul>
<h6 id="important_2">Important<a class="headerlink" href="#important_2" title="Permanent link">&para;</a></h6>
<p>Connecting Amazon Bedrock AgentCore Runtime and built-in tools to public subnets does not provide internet access.
Always use private subnets with NAT gateways for internet connectivity.</p>
<h2 id="monitoring-and-troubleshooting">Monitoring and troubleshooting<a class="headerlink" href="#monitoring-and-troubleshooting" title="Permanent link">&para;</a></h2>
<p>To monitor and troubleshoot your VPC-connected Amazon Bedrock AgentCore Runtime and tools:</p>
<h3 id="cloudwatch-logs">CloudWatch Logs<a class="headerlink" href="#cloudwatch-logs" title="Permanent link">&para;</a></h3>
<p>Enable CloudWatch Logs for your Amazon Bedrock AgentCore Runtime to identify any connectivity issues:</p>
<ul>
<li>Check error messages related to VPC connectivity</li>
<li>Look for timeout errors when connecting to VPC resources</li>
<li>Monitor initialization times (VPC connectivity may increase session startup times)</li>
</ul>
<h3 id="common-issues-and-solutions">Common issues and solutions<a class="headerlink" href="#common-issues-and-solutions" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Connection timeouts</strong>:</p>
</li>
<li>
<p>Verify security group rules are correct</p>
</li>
<li>Ensure route tables are properly configured</li>
<li>Check that the target resource is running and accepting connections</li>
<li>
<p><strong>DNS resolution failures</strong>:</p>
</li>
<li>
<p>Ensure that DNS resolution is enabled in your VPC</p>
</li>
<li>Verify that your DHCP options are configured correctly</li>
<li>
<p><strong>Missing ENIs</strong>:</p>
</li>
<li>
<p>Check the IAM permissions to ensure the service-linked role has appropriate permissions</p>
</li>
<li>Look for any service quotas that may have been reached</li>
</ul>
<h3 id="code-interpreter-issues">Code Interpreter issues<a class="headerlink" href="#code-interpreter-issues" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Code Interpreter invoke call timeouts when trying to call a public endpoint</strong>:</p>
</li>
<li>
<p>Verify that VPC is configured with NAT gateway for internet access</p>
</li>
<li>
<p><strong>Invoke calls for a Code Interpreter with private VPC endpoints throw "AccessDenied" errors</strong>:</p>
</li>
<li>
<p>Make sure the execution role passed during Code Interpreter creation has the right permissions for AWS service for which VPC endpoint was configured</p>
</li>
<li>
<p><strong>Invoke calls for a Code Interpreter with some private VPC endpoints show "Unable to locate Credentials" error</strong>:</p>
</li>
<li>
<p>Check that the execution role has been provided while creating the code interpreter</p>
</li>
</ul>
<h3 id="browser-tool-issues">Browser Tool issues<a class="headerlink" href="#browser-tool-issues" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Live-View/Connection Stream is unable to load webpages and fails with connection timeouts</strong>:</p>
</li>
<li>
<p>Check if the browser was created with Private Subnet with NAT Gateway</p>
</li>
</ul>
<h3 id="testing-vpc-connectivity">Testing VPC connectivity<a class="headerlink" href="#testing-vpc-connectivity" title="Permanent link">&para;</a></h3>
<p>To verify that your Amazon Bedrock AgentCore Runtime and tools have proper VPC connectivity, you can test connections to your private resources and verify that network interfaces are created correctly in your specified subnets.</p>
<p>To verify that your Amazon Bedrock AgentCore tool has internet access, you can configure a Code Interpreter with your VPC configuration and use the <code>Invoke</code> API with <code>executeCommand</code> that attempts to connect to a public API or website using <code>curl</code> command and check the response. If the connection times out, review your VPC configuration, particularly your route tables and NAT gateway setup.</p>
<div class="highlight"><pre><span></span><code># Using awscurl
awscurl -X POST \
  &quot;https://bedrock-agentcore.&lt;Region&gt;.amazonaws.com/code-interpreters/&lt;code_interpreter_id&gt;/tools/invoke&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -H &quot;Accept: application/json&quot; \
  -H &quot;x-amzn-code-interpreter-session-id: your-session-id&quot; \
  --service bedrock-agentcore \
  --region &lt;Region&gt; \
  -d &#39;{ 
    &quot;name&quot;: &quot;executeCommand&quot;, 
    &quot;arguments&quot;: { 
      &quot;command&quot;: &quot;curl amazon.com&quot; 
    } 
  }&#39;
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
        <script src="../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
    
  </body>
</html>