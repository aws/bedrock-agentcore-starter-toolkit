import os
from mcp.client.streamable_http import streamablehttp_client
from strands.tools.mcp.mcp_client import MCPClient

def get_streamable_http_mcp_client() -> MCPClient:
    # this environment variable is set when we define the runtime where this code executes
    gateway_url = os.getenv("gatewayUrl")
    if not gateway_url:
        raise RuntimeError("Missing required environment variable: gatewayUrl")
    return MCPClient(lambda: streamablehttp_client(gateway_url))
